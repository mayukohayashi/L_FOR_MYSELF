## タスクの管理
コンピュータから見た仕事の単位がタスク。ジョブステップの実行準備が整うことで、タスクが生成される。<br>
タスクというのは、コンピュータが「実行中のプログラムです」と識別する仕事の単位**プロセス**ともいう。

### タスクの状態遷移
1. 実行可能状態(READY)
   いつでも実行が可能な、CPUの使用権が回ってくるのを待っている状態。生成直後のタスクは、この状態になって、CPUの待ち行列に並んでいる。
2. 実行状態(RUN)
   CPUの使用権が与えられて、実行中の状態。
3. 待機状態(WAIT)
   入出力処理が発生したので、その終了を待っている状態。

### ディスパッチャとタスクスケジューリング
実行可能状態で順番待ちしているタスクに「You next」とCPUの使用権を割り当てるのは、**ディスパッチャ**という管理プログラムの役割。<br>
このとき「どのタスクに使用権を割り当てるか」を決めるためには、タスクの実行順序を定める必要がある。<br>
これを**タスクスケジューリング**という。
- 到着順方式
  実行可能状態になったタスク順に、CPUの使用権を割り当てる方式。タスクに優先度の概念がないので、実行の途中でCPU使用権が奪われることはない<be>
  これを**ノンプリエンプション**という。
- 優先順（プライオリティ順）方式
  タスクにそれぞれ優先度を設定し、その優先度が高いものから順に実行していく方式。<br>
  実行中のタスクよりも優先度の高いものが待ち行列に追加されると、実行の途中でCPU使用権が奪われる<br>
   これを**プリエンション**という。
- ラウンドロビン方式
  CPUの使用権を、一定時間ごとにきりかえる方式。実行可能状態になった順番でタスクにCPU使用権が与えられるが、規定の時間内に処理が終わらなかった場合は次のタスクに使用権が与えられ、実行中だったタスクは待ち行列の最後に回される。

### マルチプログラミング
タスク管理の役割は**CPUの有効活用**に尽きる。つまり、CPUの遊休時間を最小限に留めることが大事。<br>
**マルチ（多重）プログラミング**というのは、複数のプログラミングを見かけ上同時に実行してみせることで、こうした遊休時間を減らし、CPUの利用効率を高めようというもの。

### 割り込み処理
実行中のタスクを中断して、別の処理に切り替え、そちらが終わると、またもとのタスクに復帰する。という処理のことを**割り込み処理**という。
- 内部割込み
  - プログラム割込み
    ゼロによる除算や桁あぶれ（オーバーフロー）、仮想記憶において存在しないページへのアクセス（ページフォルト）が生じたり、書き込みができない主記憶装置に書き込もうとした記憶保護例外などの場合に生じる割込み。
  - SVC(Super Visor Call)割込み
    入出力処理を要求するなど、カーネル呼び出し命令が発行されたときに生じる割り込み（「Super Viser」とはカーネルの意味）
- 外部割込み
  - 入出力割込み
    入出力装置の動作完了時や中断時に生じる割込み。
  - 機械チェック割込み
    電源の異常や主記憶装置の障害など、ハードウェアの異常発見時に生じる割込み。
  - コンソール割込み
    オペレータ（利用者）による介入が行われたときに生じる割込み。
  - タイマ割込み
    規定の時間を過ぎたときに生じる割込み